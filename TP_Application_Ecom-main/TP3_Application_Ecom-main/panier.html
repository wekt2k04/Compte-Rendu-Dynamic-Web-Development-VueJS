<!DOCTYPE html>
<html lang="fr">
    <head>
        <meta charset="utf-8" />
        <title>Panier - Les Bonnes Pièces</title>
        <link rel="stylesheet" href="styles.css" />
        <script src="https://unpkg.com/vue@3/dist/vue.global.js"></script>
        
        <script src="panier.js" defer></script>
    </head>
    <body>
        <div id="cartApp">
        <header>
            <div class="logo-title">
                <img src="images/logo-les-bonnes-pieces.png" alt="LOGO" />
                <h1>Panier — Les Bonnes Pièces</h1>
            </div>
        </header>

        <main class="cart-main">
            <section class="cart-list">
            <h2>FACTURE</h2>

            <p v-if="panier.length === 0">Votre panier est vide.</p>

            <table v-if="panier.length > 0" class="cart-table">
                <thead>
                <tr>
                    <th>Produit</th>
                    <th>Prix Unitaire (€)</th>
                    <th>Quantité</th>
                    <th>Sous-Total (€)</th>
                </tr>
                </thead>
                <tbody>
                <tr v-for="item in panier" :key="item.id">
                    <td>{{ item.nom }}</td>
                    <td class="price">{{ item.prix.toFixed(2) }}</td>
                    <td>{{ item.quantite }}</td>
                    <td class="price">{{ (item.prix * item.quantite).toFixed(2) }}</td>
                </tr>
                </tbody>
            </table>

            <div class="cart-actions" v-if="panier.length > 0">
                <p class="total">Total : {{ totalPanier }} €</p>
                <button @click="validerCommande">Valider (Payer)</button>
                <button @click="retournerAccueil" class="secondary">Retourner</button>
            </div>

            <div class="empty-actions" v-else>
                <a href="index.html">Retour à l'accueil</a>
            </div>
            </section>
        </main>
        </div>
    </body>
</html>